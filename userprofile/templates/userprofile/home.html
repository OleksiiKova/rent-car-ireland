{% extends "base.html" %}

{% load static %}
{% load form_tags %}
{% load range_tags %}

{% block content %}
<div class="container">
    <h2 class="text-center mt-3 mb-5">We are in all airports in Ireland</h2>

    <!-- Advantages Section -->
    <section id="advantages" class="py-5 bg-light text-center">
        <div class="container">
            <h3 class="mb-5">Why Choose Us?</h3>
            <ul class="list-unstyled">
                <li>Unlimited Mileage</li>
                <li>Free Child Seat</li>
                <li>Basic Insurance Included</li>
                <li>No credit card required</li>
                <li>Free additional driver</li>

            </ul>
            <a class="btn btn-primary mt-3" aria-current="page" href="{% url 'booking' %}">Get a Quote Now</a>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="py-5 text-center">
        <div class="container">
            <h3 class="mb-5">How It Works</h3>
            <div class="row">
                <div class="col-md-3 d-md-flex px-0 px-lg-2">
                    <div class="card mb-4 h-md-100">
                        <div class="card-body">
                            <h4 class="card-title">Step 1: Book Your Car</h4>
                            <p class="card-text">Book your desired car online on our website.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 d-md-flex px-0 px-lg-2">
                    <div class="card mb-4 h-md-100">
                        <div class="card-body">
                            <h4 class="card-title">Step 2: Arrive at the Airport</h4>
                            <p class="card-text">Arrive at any airport in Ireland and collect your baggage.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 d-md-flex px-0 px-lg-2">
                    <div class="card mb-4 h-md-100">
                        <div class="card-body">
                            <h4 class="card-title">Step 3: Pick Up Your Car</h4>
                            <p class="card-text">Head to our rental desk, complete the paperwork, and drive away!</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 d-md-flex px-0 px-lg-2">
                    <div class="card mb-4 h-md-100">
                        <div class="card-body">
                            <h4 class="card-title">Step 4: Return the Car</h4>
                            <p class="card-text">Return the. Drop the keys in our mailbox.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <section id="reviews" class="py-5 bg-light text-center">
        <h3 class="mb-5">What Our Customers Are Saying</h3>
        <div id="carouselExampleControls" class="carousel" data-bs-ride="carousel">
            <div class="carousel-inner flex align-items-center">
                {% for review in reviews %}
                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex justify-content-between">
                                <p class="text-muted mb-0">Created: {{ review.created_at|date:"d M Y" }}</p>
                                <div class="review-rating d-flex">
                                    {% for i in 5|times %}
                                    {% if i <= review.rating %}
                                    <span class="text-warning">★</span>
                                    {% else %}
                                    <span class="text-secondary">☆</span>
                                    {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="p-2 review-field">{{ review.comment }}</div>
                            <div class="d-flex justify-content-end">
                                <div class="text-muted text-end">
                                    {% if review.is_anonymous %}
                                    By anonymous
                                    {% else %}
                                    By {{ review.user.username }}
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        <div class="text-end">
            <a href="{% url 'all_reviews' %}" class="btn btn-secondary btn-sm mt-3">View All Reviews</a>
        </div>
    </section>

    <!-- About Us Section -->
    <section id="about-us" class="py-5 text-center">
        <div class="container">
            <h3 class="mb-5">About Us</h3>
            <div class="row">
                <div class="col-md-6">
                    <img src="{% static 'images/about-us.webp' %}" class="img-fluid mb-4" alt="About Us">
                </div>
                <div class="col-md-6">
                    <p>
                        Welcome to our car rental service! We are dedicated to providing you with a seamless and
                        hassle-free car rental experience. Whether you're visiting Ireland for business or pleasure, we
                        have a wide range of vehicles to suit your needs.
                    </p>
                    <p>
                        Our mission is to make your travel as comfortable and convenient as possible. With locations in
                        all major airports across Ireland, we are always there when you need us. Our fleet is regularly
                        maintained and updated to ensure that you have a safe and enjoyable ride.
                    </p>
                    <p>
                        We pride ourselves on our exceptional customer service and competitive pricing. Our team is here
                        to assist you with any queries you may have, and we are committed to making your car rental
                        experience a memorable one.
                    </p>
                    <p>
                        Thank you for choosing us. We look forward to serving you and making your trip to Ireland
                        unforgettable!
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-5 text-center">
        <div class="container">
            <h3 class="mb-5">Frequently Asked Questions</h3>
            <div class="accordion" id="faqAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            What are the rental requirements?
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                        data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Drivers must be between 23 and 70 years old and have a valid driver's license.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            How can I pay for my rental?
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                        data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            You can pay with a credit or debit card when you pick up the car.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            What is your cancellation policy?
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                        data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            No additional fees are charged for canceling your booking.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFour">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                            Do you offer insurance?
                        </button>
                    </h2>
                    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
                        data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Yes, basic insurance is included in your rental. Additional insurance options, such as Exnta
                            Insurance, are available at the rental desk and can also be added during online booking.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFive">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                            Can I add an additional driver?
                        </button>
                    </h2>
                    <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive"
                        data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Yes, you can add an additional driver for free. They must also meet the rental requirements.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingSix">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                            How do I extend my rental period?
                        </button>
                    </h2>
                    <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix"
                        data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            To extend your rental period, please contact our customer service team as soon as possible
                            to check availability.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const multipleItemCarousel = document.querySelector("#carouselExampleControls");

        if (window.matchMedia("(min-width:576px)").matches) {
            const carousel = new bootstrap.Carousel(multipleItemCarousel, {
                interval: false
            });

            var carouselWidth = $(".carousel-inner")[0].scrollWidth;
            var cardWidth = $(".carousel-item").width();

            var scrollPosition = 0;

            $(".carousel-control-next").on("click", function () {
                if (scrollPosition < carouselWidth - cardWidth * 4) {
                    scrollPosition = scrollPosition + cardWidth;
                    $(".carousel-inner").animate({
                        scrollLeft: scrollPosition
                    }, 600);
                }
            });
            $(".carousel-control-prev").on("click", function () {
                if (scrollPosition > 0) {
                    scrollPosition = scrollPosition - cardWidth;
                    $(".carousel-inner").animate({
                        scrollLeft: scrollPosition
                    }, 600);
                }
            });
        } else {
            $(multipleItemCarousel).addClass("slide");
        }
    });
</script>

{% endblock %}